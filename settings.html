<div id="memory-summarize-settings" class="memory-summarize-content">
  <div class="memory-summarize-panel">
    <h3>üß† Memory Summarize Settings</h3>

    <!-- Enable/Disable -->
    <div class="settings-row">
      <label for="ms-enabled">
        <input type="checkbox" id="ms-enabled" class="settings-input">
        <span>Enable Memory Summarization</span>
      </label>
    </div>

    <!-- Auto-Summarize -->
    <div class="settings-row">
      <label for="ms-auto-summarize">
        <input type="checkbox" id="ms-auto-summarize" class="settings-input">
        <span>Auto-Summarize Messages</span>
      </label>
    </div>

    <!-- Summary Length -->
    <div class="settings-row">
      <label for="ms-length">
        Summary Length:
        <select id="ms-length" class="settings-input">
          <option value="short">Short (~100 words)</option>
          <option value="medium" selected>Medium (~200 words)</option>
          <option value="long">Long (~300 words)</option>
        </select>
      </label>
    </div>

    <!-- Max History -->
    <div class="settings-row">
      <label for="ms-max-history">
        Max Messages in Buffer:
        <input type="number" id="ms-max-history" class="settings-input" value="50" min="10" max="500">
      </label>
    </div>

    <!-- Update Interval -->
    <div class="settings-row">
      <label for="ms-update-interval">
        Auto-Summarize Interval (minutes):
        <input type="number" id="ms-update-interval" class="settings-input" value="5" min="1" max="60">
      </label>
    </div>

    <!-- API Endpoint -->
    <hr>
    <div class="settings-row">
        <label for="ms-api-endpoint">
            API Endpoint:
            <input type="text" id="ms-api-endpoint" class="settings-input" placeholder="http://127.0.0.1:5000/api/v1/generate">
        </label>
    </div>

    <!-- API Key -->
    <div class="settings-row">
        <label for="ms-api-key">
            API Key (Optional):
            <input type="text" id="ms-api-key" class="settings-input" placeholder="Your API key">
        </label>
    </div>

    <!-- Buttons -->
    <div class="settings-row button-row">
      <button id="ms-summarize-btn" class="btn-primary">üìù Summarize Now</button>
      <button id="ms-reset-btn" class="btn-danger">üîÑ Reset Buffer</button>
    </div>

    <!-- Status Display -->
    <div id="ms-status" class="status-display">
      <strong>Status:</strong> <span id="ms-status-text">Ready</span>
    </div>

    <!-- Statistics -->
    <div class="stats-display">
      <div class="stat-item">
        <strong>Buffer Size:</strong> <span id="ms-buffer-count">0</span> messages
      </div>
      <div class="stat-item">
        <strong>Last Summary:</strong> <span id="ms-last-summary">Never</span>
      </div>
    </div>

    <!-- Debug -->
    <hr>
    <div class="settings-row">
      <label for="ms-debug">
        <input type="checkbox" id="ms-debug" class="settings-input">
        <span>Debug Mode</span>
      </label>
    </div>
  </div>
</div>

<style>
.memory-summarize-panel {
  padding: 15px;
  border-radius: 8px;
  margin: 10px 0;
  background: var(--SmartThemeBlurTintColor, #f5f5f5);
  border: 1px solid var(--bg3, #ddd);
}

.memory-summarize-panel h3 {
  margin-top: 0;
  margin-bottom: 15px;
  color: var(--text-color, #333);
}

.settings-row {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  gap: 10px;
}

.settings-row label {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  cursor: pointer;
}

.settings-row input[type="checkbox"],
.settings-row input[type="number"],
.settings-row select {
  padding: 5px 8px;
  border: 1px solid var(--bg3, #ccc);
  border-radius: 4px;
  background: var(--SmartThemeBlurTintColor, white);
  color: var(--text-color, #333);
}

.settings-row input[type="checkbox"] {
  cursor: pointer;
  width: 18px;
  height: 18px;
}

.settings-row input[type="number"] {
  width: 80px;
  margin-left: auto;
}

.settings-row select {
  margin-left: auto;
  min-width: 120px;
}

.button-row {
  display: flex;
  gap: 10px;
  justify-content: flex-start;
}

.btn-primary,
.btn-danger {
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.2s ease;
}

.btn-primary {
  background: var(--blue, #0066cc);
  color: white;
}

.btn-primary:hover:not(:disabled) {
  background: var(--blue-dark, #0052a3);
}

.btn-danger {
  background: var(--red, #d32f2f);
  color: white;
}

.btn-danger:hover:not(:disabled) {
  background: var(--red-dark, #b71c1c);
}

.btn-primary:disabled,
.btn-danger:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.status-display {
  padding: 10px;
  background: var(--quote, #e3f2fd);
  border-left: 4px solid var(--blue, #0066cc);
  border-radius: 4px;
  margin: 10px 0;
  font-size: 14px;
}

.stats-display {
  padding: 10px;
  background: var(--SmartThemeBlurTintColor, white);
  border-radius: 4px;
  margin: 10px 0;
  font-size: 13px;
}

.stat-item {
  padding: 5px 0;
}

.stat-item strong {
  margin-right: 8px;
}

hr {
  border: none;
  border-top: 1px solid var(--bg3, #ddd);
  margin: 15px 0;
}
</style>
